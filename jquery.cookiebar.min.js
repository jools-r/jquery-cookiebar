!function(e){e.cookieBar=function(o,a){if("cookies"==o)var c="cookies";else if("set"==o)var c="set";else var c=!1;var n={message:"We use cookies to track usage and preferences.",cookieName:"cb-enabled",cookieBarClass:"",buttonClass:"cb-button",acceptButton:!0,acceptText:"I Understand",acceptFunction:function(e){"enabled"!=e&&"accepted"!=e&&(window.location=window.location.href)},declineButton:!1,declineText:"Disable Cookies",declineFunction:function(e){"enabled"!=e&&"accepted"!=e||(window.location=window.location.href)},policyButton:!1,policyText:"Privacy Policy",policyURL:"/privacy-policy/",autoEnable:!0,acceptOnContinue:!1,acceptOnScroll:!1,acceptAnyClick:!1,expireDays:365,renewOnVisit:!1,forceShow:!1,effect:"slide",element:"body",append:!1,fixed:!1,bottom:!1,zindex:"",honorDnt:!1,dntMessage:'Your ‘Do Not Track’ browser settings were recognized. Tracking cookies will not be set. You can change your settings on our <a href="{policy_url}">Privacy Policy</a> page.',dntCookieName:"donottrack-message",dntCookieBarClass:"cb-donottrack",domain:String(window.location.hostname),referrer:String(document.referrer)},o=e.extend(n,o),i=new Date;i.setTime(i.getTime()+864e5*o.expireDays),i=i.toGMTString();var t,s,r=o.cookieName+"={value}; expires="+i+"; path=/",l="",d="",p=document.cookie.split("; ");for(t=0;t<p.length;t++)s=p[t].split("="),s[0]==o.cookieName&&(l=s[1]),s[0]==o.dntCookieName&&(d=s[1]);var u=function(){if(void 0!==window.navigator.doNotTrack){var e=window.navigator.doNotTrack;"yes"===e&&(e="1"),"no"===e&&(e="0"),dntStatus=e}else void 0!==window.navigator.msDoNotTrack?dntStatus=window.navigator.msDoNotTrack:void 0!==window.doNotTrack?dntStatus=window.doNotTrack:dntStatus="unspecified";return dntStatus={0:"Disabled",1:"Enabled"}[dntStatus]||"Unspecified","Enabled"===dntStatus};if(o.honorDnt&&u()&&""==d?(l="declined",document.cookie=r.replace("{value}","declined")):""==l&&"cookies"!=c&&o.autoEnable?(l="enabled",document.cookie=r.replace("{value}","enabled")):"accepted"!=l&&"declined"!=l||"cookies"==c||!o.renewOnVisit||(document.cookie=r.replace("{value}",l)),o.acceptOnContinue&&o.referrer.indexOf(o.domain)>=0&&-1==String(window.location.href).indexOf(o.policyURL)&&"cookies"!=c&&"set"!=c&&"accepted"!=l&&"declined"!=l&&(c="set",a="accepted"),"cookies"==c)return"accepted"==a&&"accepted"==l||"accepted"!=a&&("enabled"==l||"accepted"==l);if("set"==c&&("accepted"==a||"declined"==a))return document.cookie=r.replace("{value}",a),"accepted"==a;if(o.honorDnt&&u()&&""==d){var b=o.dntMessage;document.cookie=o.dntCookieName+"=seen; expires="+i+"; path=/"}else var b=o.message;if(b=b.replace("{policy_url}",o.policyURL).replace("{accept_link}",'<a href="" class="cb-enable">'+o.acceptText+"</a>").replace("{decline_link}",'<a href="" class="cb-disable">'+o.declineText+"</a>"),o.acceptButton)var k='<a href="" class="cb-enable '+o.buttonClass+'" aria-label="accept cookies" role="button">'+o.acceptText+"</a>";else var k="";if(o.declineButton)var f='<a href="" class="cb-disable '+o.buttonClass+'" aria-label="decline cookies" role="button">'+o.declineText+"</a>";else var f="";if(o.policyButton)var m='<a href="'+o.policyURL+'" class="cb-policy '+o.buttonClass+'" aria-label="privacy policy" role="button">'+o.policyText+"</a>";else var m="";var v="";if(""!=o.cookieBarClass&&(v=" "+o.cookieBarClass),o.honorDnt&&""!=o.dntCookieBarClass&&(v=v+" "+o.dntCookieBarClass),o.fixed)if(o.bottom)var g=' class="fixed bottom'+v+'"';else var g=' class="fixed'+v+'"';else if(""!=v)var g=' class="'+v.trim()+'"';else var g="";if(""!=o.zindex)var w=' style="z-index:'+o.zindex+';"';else var w="";o.honorDnt&&u()&&""==d?o.append?e(o.element).append('<div id="cookie-bar"'+g+w+' aria-live="polite" aria-label="cookie-consent-bar" aria-describedby="cb-message"><p><span id="cb-message" class="cb-message">'+b+"</span>"):e(o.element).prepend('<div id="cookie-bar"'+g+w+' aria-live="polite" aria-label="cookie-consent-bar" aria-describedby="cb-message"><p><span id="cb-message" class="cb-message">'+b+"</span>"):(o.forceShow||"enabled"==l||""==l)&&(o.append?e(o.element).append('<div id="cookie-bar"'+g+w+' aria-live="polite" aria-label="cookie-consent-bar" aria-describedby="cb-message"><p><span id="cb-message" class="cb-message">'+b+'</span><span class="cb-buttons">'+k+f+m+"</span></p></div>"):e(o.element).prepend('<div id="cookie-bar"'+g+w+' aria-live="polite" aria-label="cookie-consent-bar" aria-describedby="cb-message"><p><span id="cb-message" class="cb-message">'+b+'</span><span class="cb-buttons">'+k+f+m+"</span></p></div>"));var y=function(a){o.acceptOnScroll&&e(document).off("scroll"),"function"==typeof a&&a(l),"slide"==o.effect?e("#cookie-bar").slideUp(300,function(){e("#cookie-bar").remove()}):"fade"==o.effect?e("#cookie-bar").fadeOut(300,function(){e("#cookie-bar").remove()}):e("#cookie-bar").hide(0,function(){e("#cookie-bar").remove()}),e(document).unbind("click",T)},h=function(){document.cookie=r.replace("{value}","accepted"),y(o.acceptFunction)},x=function(){var e=new Date;for(e.setTime(e.getTime()-864e6),e=e.toGMTString(),p=document.cookie.split("; "),t=0;t<p.length;t++)s=p[t].split("="),s[0].indexOf("_")>=0?document.cookie=s[0]+"=0; expires="+e+"; domain="+o.domain.replace("www","")+"; path=/":document.cookie=s[0]+"=0; expires="+e+"; path=/";document.cookie=r.replace("{value}","declined"),y(o.declineFunction)},T=function(o){e(o.target).hasClass("cb-policy")||h()};if(e(document).on("click touchstart","#cookie-bar .cb-enable",function(e){return e.preventDefault(),h(),!1}),e(document).on("click touchstart","#cookie-bar .cb-disable",function(e){return e.preventDefault(),x(),!1}),o.acceptOnScroll){var C,S,D=e(document).scrollTop();e(document).on("scroll",function(){C=e(document).scrollTop(),(S=C>D?C-D:D-C)>=Math.round(o.acceptOnScroll)&&h()})}o.acceptAnyClick&&e(document).bind("click",T)}}(jQuery);
