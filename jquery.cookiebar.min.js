!function(e){e.cookieBar=function(c,o){if("cookies"==c)var a="cookies";else if("set"==c)var a="set";else var a=!1;var i={message:"We use cookies to track usage and preferences.",cookieName:"cb-enabled",cookieBarClass:"",buttonClass:"cb-button",acceptButton:!0,acceptText:"I Understand",acceptFunction:function(e){"enabled"!=e&&"accepted"!=e&&(window.location=window.location.href)},declineButton:!1,declineText:"Disable Cookies",declineFunction:function(e){"enabled"!=e&&"accepted"!=e||(window.location=window.location.href)},policyButton:!1,policyText:"Privacy Policy",policyURL:"/privacy-policy/",autoEnable:!0,acceptOnContinue:!1,acceptOnScroll:!1,acceptAnyClick:!1,expireDays:365,renewOnVisit:!1,forceShow:!1,effect:"slide",element:"body",append:!1,fixed:!1,bottom:!1,zindex:"",domain:String(window.location.hostname),referrer:String(document.referrer)},c=e.extend(i,c),t=new Date;t.setTime(t.getTime()+864e5*c.expireDays),t=t.toGMTString();var n,l,r=c.cookieName+"={value}; expires="+t+"; path=/",s="",d=document.cookie.split("; ");for(n=0;n<d.length;n++)l=d[n].split("="),l[0]==c.cookieName&&(s=l[1]);if(""==s&&"cookies"!=a&&c.autoEnable?(s="enabled",document.cookie=r.replace("{value}","enabled")):"accepted"!=s&&"declined"!=s||"cookies"==a||!c.renewOnVisit||(document.cookie=r.replace("{value}",s)),c.acceptOnContinue&&c.referrer.indexOf(c.domain)>=0&&-1==String(window.location.href).indexOf(c.policyURL)&&"cookies"!=a&&"set"!=a&&"accepted"!=s&&"declined"!=s&&(a="set",o="accepted"),"cookies"==a)return"accepted"==o&&"accepted"==s||"accepted"!=o&&("enabled"==s||"accepted"==s);if("set"==a&&("accepted"==o||"declined"==o))return document.cookie=r.replace("{value}",o),"accepted"==o;var p=c.message.replace("{policy_url}",c.policyURL).replace("{accept_link}",'<a href="" class="cb-enable">'+c.acceptText+"</a>").replace("{decline_link}",'<a href="" class="cb-disable">'+c.declineText+"</a>");if(c.acceptButton)var u='<a href="" class="cb-enable '+c.buttonClass+'" aria-label="accept cookies" role="button">'+c.acceptText+"</a>";else var u="";if(c.declineButton)var b='<a href="" class="cb-disable '+c.buttonClass+'" aria-label="decline cookies" role="button">'+c.declineText+"</a>";else var b="";if(c.policyButton)var f='<a href="'+c.policyURL+'" class="cb-policy '+c.buttonClass+'" aria-label="privacy policy" role="button">'+c.policyText+"</a>";else var f="";if(""!=c.cookieBarClass&&(c.cookieBarClass=" "+c.cookieBarClass),c.fixed)if(c.bottom)var k=' class="fixed bottom'+c.cookieBarClass+'"';else var k=' class="fixed'+c.cookieBarClass+'"';else if(""!=c.cookieBarClass)var k=' class="'+c.cookieBarClass.trim()+'"';else var k="";if(""!=c.zindex)var m=' style="z-index:'+c.zindex+';"';else var m="";(c.forceShow||"enabled"==s||""==s)&&(c.append?e(c.element).append('<div id="cookie-bar"'+k+m+' aria-live="polite" aria-label="cookie-consent-bar" aria-describedby="cb-message"><p><span id="cb-message" class="cb-message">'+p+'</span><span class="cb-buttons">'+u+b+f+"</span></p></div>"):e(c.element).prepend('<div id="cookie-bar"'+k+m+' aria-live="polite" aria-label="cookie-consent-bar" aria-describedby="cb-message"><p><span id="cb-message" class="cb-message">'+p+'</span><span class="cb-buttons">'+u+b+f+"</span></p></div>"));var v=function(o){c.acceptOnScroll&&e(document).off("scroll"),"function"==typeof o&&o(s),"slide"==c.effect?e("#cookie-bar").slideUp(300,function(){e("#cookie-bar").remove()}):"fade"==c.effect?e("#cookie-bar").fadeOut(300,function(){e("#cookie-bar").remove()}):e("#cookie-bar").hide(0,function(){e("#cookie-bar").remove()}),e(document).unbind("click",h)},y=function(){document.cookie=r.replace("{value}","accepted"),v(c.acceptFunction)},x=function(){var e=new Date;for(e.setTime(e.getTime()-864e6),e=e.toGMTString(),d=document.cookie.split("; "),n=0;n<d.length;n++)l=d[n].split("="),l[0].indexOf("_")>=0?document.cookie=l[0]+"=0; expires="+e+"; domain="+c.domain.replace("www","")+"; path=/":document.cookie=l[0]+"=0; expires="+e+"; path=/";document.cookie=r.replace("{value}","declined"),v(c.declineFunction)},h=function(c){e(c.target).hasClass("cb-policy")||y()};if(e(document).on("click touchstart","#cookie-bar .cb-enable",function(e){return e.preventDefault(),y(),!1}),e(document).on("click touchstart","#cookie-bar .cb-disable",function(e){return e.preventDefault(),x(),!1}),c.acceptOnScroll){var w,g,C=e(document).scrollTop();e(document).on("scroll",function(){w=e(document).scrollTop(),(g=w>C?w-C:C-w)>=Math.round(c.acceptOnScroll)&&y()})}c.acceptAnyClick&&e(document).bind("click",h)}}(jQuery);
